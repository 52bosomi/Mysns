FROM ubuntu:18.04

ENV DEBIAN_FRONTEND noninteractive

COPY . /app
WORKDIR /app/scraping

RUN apt-get update -y && \
    apt-get install -y python3-pip
# RUN apt-get install -y apt-utils

# Node js install
RUN apt-get install -y curl
RUN curl -sL https://deb.nodesource.com/setup_14.x | bash -
RUN apt-get install -y nodejs
RUN apt-get install build-essential
# Install check
RUN node -v
RUN npm -v
# npm install
RUN npm install

# RUN apt-get install -y google-chrome-stable --no-install-recommends
# RUN sudo apt-get install -f

RUN ls -al /app
RUN ls -al /app/scraping

RUN npm install puppeteer
RUN npm install dotenv

# command exec
CMD ["node", "index.js"]

# web 소켓으로 결과물 전송